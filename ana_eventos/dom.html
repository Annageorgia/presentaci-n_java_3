<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de eventos DOM con botones</title>
</head>
<body>

    <div id="contenedor">
        <button id="agregarBoton">Agregar Botón</button>
        <button id="eliminarBoton">Eliminar Último Botón</button>
    </div>

    <script>
        // Seleccionamos el contenedor div
        var contenedor = document.getElementById('contenedor');

        // Función para manejar la inserción de un nuevo botón
        function agregarNuevoBoton() {
            var nuevoBoton = document.createElement('button');
            nuevoBoton.textContent = 'Nuevo Botón';
            contenedor.appendChild(nuevoBoton);
        }

        // Función para manejar la eliminación del último botón
        function eliminarUltimoBoton() {
            var botones = contenedor.getElementsByTagName('button');
            if (botones.length > 0) {
                var ultimoBoton = botones[botones.length - 1];
                contenedor.removeChild(ultimoBoton);
            }
        }

        // Evento DOMSubtreeModified - se dispara cuando se modifica el árbol DOM dentro del elemento o sus descendientes
        contenedor.addEventListener('DOMSubtreeModified', function(event) {
            console.log('DOMSubtreeModified event:', event);
        });

        // Evento DOMNodeInserted - se dispara cuando un nuevo nodo es insertado como hijo del elemento
        contenedor.addEventListener('DOMNodeInserted', function(event) {
            console.log('DOMNodeInserted event:', event);
        });

        // Evento DOMNodeRemoved - se dispara cuando un nodo es removido como hijo del elemento
        contenedor.addEventListener('DOMNodeRemoved', function(event) {
            console.log('DOMNodeRemoved event:', event);
        });

        // Evento DOMNodeRemovedFromDocument - se dispara cuando un nodo es removido del documento
        contenedor.addEventListener('DOMNodeRemovedFromDocument', function(event) {
            console.log('DOMNodeRemovedFromDocument event:', event);
        });

        // Evento DOMNodeInsertedIntoDocument - se dispara cuando un nodo es insertado en el documento
        contenedor.addEventListener('DOMNodeInsertedIntoDocument', function(event) {
            console.log('DOMNodeInsertedIntoDocument event:', event);
        });

        // Añadimos escuchadores de eventos a los botones
        document.getElementById('agregarBoton').addEventListener('click', agregarNuevoBoton);
        document.getElementById('eliminarBoton').addEventListener('click', eliminarUltimoBoton);
    </script>

</body>
</html>